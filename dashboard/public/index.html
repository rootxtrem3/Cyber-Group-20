<!DOCTYPE html>
<html>
<head>
    <title>IoT Honeypot Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .stats { display: flex; gap: 20px; margin-bottom: 20px; }
        .stat-card { padding: 20px; background: #f5f5f5; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>IoT Honeypot Dashboard</h1>
    <div class="stats">
        <div class="stat-card">
            <h3>Total Attacks</h3>
            <div id="total-attacks">0</div>
        </div>
        <div class="stat-card">
            <h3>Unique IPs</h3>
            <div id="unique-ips">0</div>
        </div>
    </div>
    <div id="events"></div>
    
    <script>
        const ws = new WebSocket('ws://localhost:8765');
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            if (data.type === 'attack_event') {
                document.getElementById('total-attacks').textContent = 
                    parseInt(document.getElementById('total-attacks').textContent) + 1;
                
                const eventsDiv = document.getElementById('events');
                eventsDiv.innerHTML = `<p>New attack from ${data.data.source_ip}</p>` + eventsDiv.innerHTML;
            }
        };
    </script>
</body>
</html>
